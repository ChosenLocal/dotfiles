# ============================================
# HYPRLAND SUBMAPS - Modal Navigation System
# ============================================
# Super+Escape: Enter Navigation Mode (vim-style operations)
# Escape/Enter: Exit any submap

$mod = SUPER

# ============================================
# NAVIGATION MODE - Universal Scrolling & Selection
# ============================================
bind = $mod, Escape, submap, navigation

submap = navigation
    # Scrolling (simulates mouse wheel)
    bind = , j, exec, wtype -M shift -P Page_Down -m shift -p Page_Down  # Scroll down
    bind = , k, exec, wtype -M shift -P Page_Up -m shift -p Page_Up      # Scroll up
    bind = , h, exec, wtype -P Home -p Home                              # Scroll to start
    bind = , l, exec, wtype -P End -p End                                # Scroll to end
    bind = , d, exec, wtype -M ctrl -P Page_Down -m ctrl -p Page_Down    # Fast scroll down
    bind = , u, exec, wtype -M ctrl -P Page_Up -m ctrl -p Page_Up        # Fast scroll up

    # Fine scrolling (3 lines at a time)
    bind = CTRL, j, exec, wtype -k Down && wtype -k Down && wtype -k Down
    bind = CTRL, k, exec, wtype -k Up && wtype -k Up && wtype -k Up

    # Text selection mode
    bind = , v, submap, selection
    bind = SHIFT, v, exec, wtype -M ctrl -P a -m ctrl -p a  # Select all

    # Quick copy/paste
    bind = , y, exec, wtype -M ctrl -P c -m ctrl -p c && notify-send "Copied to clipboard"
    bind = , p, exec, wtype -M ctrl -P v -m ctrl -p v

    # Window focus (stay in navigation)
    bind = , w, movefocus, u
    bind = , s, movefocus, d
    bind = , a, movefocus, l
    bind = , f, movefocus, r

    # Exit navigation mode
    bind = , Escape, submap, reset
    bind = , Return, submap, reset
    bind = , q, submap, reset
submap = reset

# ============================================
# SELECTION MODE - Visual Selection
# ============================================
submap = selection
    # Character-wise selection
    bind = , h, exec, wtype -M shift -P Left -m shift -p Left
    bind = , l, exec, wtype -M shift -P Right -m shift -p Right
    bind = , j, exec, wtype -M shift -P Down -m shift -p Down
    bind = , k, exec, wtype -M shift -P Up -m shift -p Up

    # Word-wise selection
    bind = , w, exec, wtype -M ctrl shift -P Right -m ctrl shift -p Right
    bind = , b, exec, wtype -M ctrl shift -P Left -m ctrl shift -p Left
    bind = , e, exec, wtype -M shift -P End -m shift -p End
    bind = , 0, exec, wtype -M shift -P Home -m shift -p Home

    # Paragraph selection
    bind = SHIFT, j, exec, wtype -M shift -P Page_Down -m shift -p Page_Down
    bind = SHIFT, k, exec, wtype -M shift -P Page_Up -m shift -p Page_Up

    # Operations on selection
    bind = , y, exec, wtype -M ctrl -P c -m ctrl -p c && notify-send "Selection copied" && hyprctl dispatch submap reset
    bind = , d, exec, wtype -M ctrl -P x -m ctrl -p x && notify-send "Selection cut" && hyprctl dispatch submap reset
    bind = , c, exec, wtype -M ctrl -P c -m ctrl -p c && wtype -k Delete && notify-send "Changed selection" && hyprctl dispatch submap reset

    # Exit selection mode
    bind = , Escape, submap, navigation
    bind = , Return, submap, reset
    bind = , q, submap, reset
submap = reset

# ============================================
# RESIZE MODE - Window Resizing
# ============================================
bind = $mod, r, submap, resize

submap = resize
    bind = , h, resizeactive, -40 0
    bind = , l, resizeactive, 40 0
    bind = , k, resizeactive, 0 -40
    bind = , j, resizeactive, 0 40

    # Fine resize
    bind = SHIFT, h, resizeactive, -10 0
    bind = SHIFT, l, resizeactive, 10 0
    bind = SHIFT, k, resizeactive, 0 -10
    bind = SHIFT, j, resizeactive, 0 10

    # Exit resize mode
    bind = , Escape, submap, reset
    bind = , Return, submap, reset
submap = reset