# WisprBridge Hyprland Configuration v2.4
# Add to hyprland.conf: source = ~/.config/hypr/wisprbridge.conf

# =============================================================================
# KEYBINDINGS - Simple & Fast
# =============================================================================

# Super+Z: Toggle recording (press to start, press again to stop)
bind = SUPER, Z, exec, /home/jack/.local/bin/wisprctl toggle

# Super+Alt+Z: Cycle through modes
bind = SUPER ALT, Z, exec, /home/jack/.local/bin/wisprctl mode-cycle

# Super+Alt+X: Cycle through languages
bind = SUPER ALT, X, exec, /home/jack/.local/bin/wisprctl lang-cycle

# Super+Shift+V: Open mode selector popup (legacy, still works)
bind = SUPER SHIFT, V, exec, /home/jack/.local/bin/wispr-popup

# Super+F10: Redo last transcription
bind = SUPER, F10, exec, /home/jack/.local/bin/wisprctl redo

# Super+F11: Toggle mute
bind = SUPER, F11, exec, /home/jack/.local/bin/wisprctl mute

# Super+F12: Open history browser
bind = SUPER, F12, exec, /home/jack/.local/bin/wispr-history

# =============================================================================
# WINDOW RULES - Overlay (Bottom of screen, minimal)
# =============================================================================

# Live transcription overlay - bottom center, minimal style
windowrulev2 = float, class:^(com\.wisprbridge\.overlay)$
windowrulev2 = pin, class:^(com\.wisprbridge\.overlay)$
windowrulev2 = nofocus, class:^(com\.wisprbridge\.overlay)$
windowrulev2 = noinitialfocus, class:^(com\.wisprbridge\.overlay)$
windowrulev2 = noblur, class:^(com\.wisprbridge\.overlay)$
windowrulev2 = noshadow, class:^(com\.wisprbridge\.overlay)$
windowrulev2 = noborder, class:^(com\.wisprbridge\.overlay)$

# Position at bottom center (50% - half width, bottom with 40px margin)
windowrulev2 = move 50%-275 100%-100, class:^(com\.wisprbridge\.overlay)$
windowrulev2 = size 550 auto, class:^(com\.wisprbridge\.overlay)$

# Fast slide animation from bottom
windowrulev2 = animation slide bottom, class:^(com\.wisprbridge\.overlay)$

# =============================================================================
# WINDOW RULES - Mode Popup
# =============================================================================

# Mode selector popup - center screen
windowrulev2 = float, class:^(com\.wisprbridge\.popup)$
windowrulev2 = center, class:^(com\.wisprbridge\.popup)$
windowrulev2 = pin, class:^(com\.wisprbridge\.popup)$
windowrulev2 = stayfocused, class:^(com\.wisprbridge\.popup)$
windowrulev2 = dimaround, class:^(com\.wisprbridge\.popup)$
windowrulev2 = animation popin, class:^(com\.wisprbridge\.popup)$

# =============================================================================
# WINDOW RULES - History Browser
# =============================================================================

# History browser - center screen, larger window
windowrulev2 = float, class:^(com\.wisprbridge\.history)$
windowrulev2 = center, class:^(com\.wisprbridge\.history)$
windowrulev2 = stayfocused, class:^(com\.wisprbridge\.history)$
windowrulev2 = dimaround, class:^(com\.wisprbridge\.history)$
windowrulev2 = animation popin, class:^(com\.wisprbridge\.history)$

# =============================================================================
# LAYER RULES (if using layer-shell)
# =============================================================================

# These apply if the overlay uses gtk-layer-shell
layerrule = blur, wisprbridge
layerrule = ignorezero, wisprbridge
